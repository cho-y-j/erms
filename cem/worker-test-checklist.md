# Worker 기능 테스트 체크리스트 👷

**테스트 일시**: 2025-11-05  
**테스트 대상**: Worker 모바일 앱 전체 기능  
**테스트 방법**: 실제 사용 시나리오 기반 순차 테스트

---

## 🚀 테스트 시작 전 준비

### 서버 실행
- [ ] `pnpm dev` 명령어로 서버 실행
- [ ] 서버 URL 확인 (보통 `http://localhost:3000` 또는 포트 자동 증가)
- [ ] 브라우저 개발자 도구 열기 (F12) - 모바일 뷰 전환

### 테스트 계정 확인
- [ ] Worker 계정 PIN 확인 (기본: 1234)
- [ ] 테스트용 Worker 계정이 DB에 존재하는지 확인
- [ ] Worker에게 할당된 장비가 있는지 확인

---

## 📱 1단계: Worker 로그인 테스트

### PIN 로그인
- [ ] `/mobile/login` 페이지 접근
- [ ] PIN 입력 UI 확인 (숫자 키패드)
- [ ] 올바른 PIN 입력 (예: 1234)
- [ ] 로그인 성공 확인
- [ ] 메인 페이지로 리다이렉트 확인

### 에러 케이스
- [ ] 잘못된 PIN 입력 → 에러 메시지 확인
- [ ] 빈 PIN 입력 → 에러 메시지 확인
- [ ] 존재하지 않는 Worker PIN → 에러 메시지 확인

### UI 체크
- [ ] 모바일 화면에서 레이아웃 적절
- [ ] 터치 영역 크기 적절 (최소 44x44px)
- [ ] 숫자 키패드 잘 보임
- [ ] 로딩 인디케이터 표시

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 🏠 2단계: Worker 메인 페이지 (WorkerMobile.tsx)

### 페이지 접근
- [ ] 로그인 후 메인 페이지 표시
- [ ] Worker 이름 표시
- [ ] 할당된 장비 정보 표시
- [ ] 현재 작업 상태 배지 표시

### 현재 작업 상태 확인
- [ ] 상태 표시: "대기중" (작업 시작 전)
- [ ] 상태 배지 색상 확인 (gray/blue/yellow/orange/green)
- [ ] 경과 시간 표시 (00:00:00)

### UI 체크
- [ ] 상단 헤더 (Worker 정보)
- [ ] 작업 상태 카드
- [ ] 작업 컨트롤 버튼 (큼직하고 눈에 잘 띔)
- [ ] 빠른 메뉴 섹션
- [ ] 긴급 상황 버튼 (빨간색, 눈에 띄는 위치)
- [ ] 모바일 화면에 최적화됨

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## ⏰ 3단계: 작업 시작/종료 테스트

### 작업 시작
- [ ] "작업 시작" 버튼 클릭
- [ ] 로딩 인디케이터 표시
- [ ] 작업 시작 성공 메시지 (Toast)
- [ ] 상태가 "근무중"으로 변경
- [ ] 경과 시간 실시간 업데이트 (1초마다)
- [ ] "작업 시작" 버튼이 "휴식 시작" 버튼으로 변경
- [ ] GPS 위치 추적 시작 확인 (MapPin 아이콘)

### 경과 시간 확인
- [ ] 경과 시간이 계속 증가하는지 확인 (00:00:01, 00:00:02...)
- [ ] 시:분:초 형식으로 표시
- [ ] 페이지를 새로고침해도 경과 시간 유지

### 작업 종료
- [ ] "작업 종료" 버튼 클릭
- [ ] 종료 확인 다이얼로그 표시
- [ ] "확인" 클릭
- [ ] 작업 종료 성공 메시지
- [ ] 상태가 "작업완료"로 변경
- [ ] 경과 시간 정지
- [ ] "작업 시작" 버튼으로 다시 변경
- [ ] GPS 위치 추적 종료

### 에러 케이스
- [ ] 이미 작업 중인 상태에서 다시 시작 시도
- [ ] 작업하지 않은 상태에서 종료 시도
- [ ] 네트워크 에러 발생 시

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## ☕ 4단계: 휴식 시작/종료 테스트

### 휴식 시작
- [ ] 작업 중 상태에서 "휴식 시작" 버튼 클릭
- [ ] 휴식 시작 성공 메시지
- [ ] 상태가 "휴식중"으로 변경
- [ ] 배지 색상 변경 (노란색)
- [ ] "휴식 종료" 버튼으로 변경
- [ ] 휴식 시간 별도 카운트 시작

### 휴식 종료
- [ ] "휴식 종료" 버튼 클릭
- [ ] 휴식 종료 성공 메시지
- [ ] 상태가 "근무중"으로 복귀
- [ ] 총 휴식 시간 누적 표시
- [ ] 작업 경과 시간 다시 계속

### 에러 케이스
- [ ] 작업 시작 전 휴식 시도
- [ ] 이미 휴식 중인 상태에서 다시 휴식 시도
- [ ] 네트워크 에러 발생 시

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 🌙 5단계: 연장 근무 테스트

### 연장 근무 시작
- [ ] 작업 중 상태에서 "연장 시작" 버튼 클릭
- [ ] 연장 근무 시작 성공 메시지
- [ ] 상태가 "연장근무"로 변경
- [ ] 배지 색상 변경 (주황색)
- [ ] 연장 근무 시작 시간 기록
- [ ] 경과 시간 계속 업데이트

### 연장 근무 종료
- [ ] "작업 종료" 버튼 클릭
- [ ] 종료 확인 다이얼로그
- [ ] 작업 종료 성공
- [ ] 총 연장 근무 시간 표시

### 에러 케이스
- [ ] 작업 시작 전 연장 근무 시도
- [ ] 네트워크 에러 발생 시

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 📍 6단계: GPS 위치 추적 테스트

### 위치 추적 시작
- [ ] 작업 시작 시 자동으로 GPS 위치 추적 시작
- [ ] 위치 권한 요청 (브라우저)
- [ ] 위치 권한 승인
- [ ] MapPin 아이콘 표시 (위치 추적 활성화)
- [ ] 첫 위치 전송 성공

### 5분 간격 위치 전송
- [ ] 5분 대기 (또는 코드에서 간격 줄여서 테스트)
- [ ] 자동으로 위치 전송
- [ ] 콘솔에서 위치 로그 확인
- [ ] 서버에서 위치 데이터 수신 확인

### 위치 추적 종료
- [ ] 작업 종료 시 자동으로 위치 추적 종료
- [ ] MapPin 아이콘 사라짐

### 에러 케이스
- [ ] 위치 권한 거부 시 → 에러 메시지 확인
- [ ] GPS 사용 불가 시 → 에러 메시지 확인
- [ ] 네트워크 에러로 위치 전송 실패 시

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 🚨 7단계: 긴급 상황 버튼 테스트

### 긴급 버튼 클릭
- [ ] 빨간색 "🚨 긴급 상황 발생" 버튼 클릭
- [ ] 긴급 상황 다이얼로그 표시
- [ ] 긴급 유형 선택 옵션 표시
  - [ ] 1. 사고
  - [ ] 2. 고장
  - [ ] 3. 안전 위험
  - [ ] 4. 기타

### 긴급 상황 제출
- [ ] 긴급 유형 선택 (예: 1 - 사고)
- [ ] 상세 설명 입력
- [ ] "전송" 버튼 클릭
- [ ] 현재 GPS 위치 자동 포함 확인
- [ ] 긴급 알림 전송 성공 메시지
- [ ] 다이얼로그 닫힘

### Admin/Owner 알림 확인
- [ ] Admin 계정으로 로그인
- [ ] 긴급 알림 목록 페이지 접근
- [ ] 방금 생성한 긴급 알림 확인
- [ ] 위치 정보 표시 확인
- [ ] 지도에서 위치 확인

### 에러 케이스
- [ ] 긴급 유형 미선택 → 에러 메시지
- [ ] 상세 설명 미입력 → 에러 메시지
- [ ] 네트워크 에러 → 재시도 안내

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 📸 8단계: 서류 업로드 테스트 (DocumentUpload.tsx)

### 서류 업로드 페이지 접근
- [ ] 빠른 메뉴에서 "서류 업로드" 클릭
- [ ] `/mobile/document-upload` 페이지 표시
- [ ] 파일 선택 UI 표시

### 카메라 촬영
- [ ] "카메라 촬영" 버튼 클릭
- [ ] 카메라 권한 요청
- [ ] 카메라 활성화
- [ ] 사진 촬영
- [ ] 촬영한 사진 미리보기 표시
- [ ] 촬영한 사진 목록에 추가

### 갤러리에서 선택
- [ ] "갤러리에서 선택" 버튼 클릭
- [ ] 파일 선택 다이얼로그 표시
- [ ] 이미지 파일 선택 (jpg, png)
- [ ] 선택한 파일 미리보기 표시
- [ ] 선택한 파일 목록에 추가

### 다중 파일 업로드
- [ ] 여러 개 파일 선택 (예: 3개)
- [ ] 모든 파일 미리보기 표시
- [ ] 각 파일에 개별 삭제 버튼 표시

### 파일 삭제
- [ ] 미리보기에서 "삭제" 버튼 클릭
- [ ] 해당 파일만 목록에서 제거
- [ ] 다른 파일은 유지

### 서류 정보 입력
- [ ] 서류 유형 선택 (드롭다운)
- [ ] 만료일 선택 (날짜 선택기)
- [ ] 메모 입력 (선택사항)

### 업로드 실행
- [ ] "업로드" 버튼 클릭
- [ ] 로딩 인디케이터 표시
- [ ] 업로드 진행률 표시 (옵션)
- [ ] 업로드 성공 메시지
- [ ] Supabase Storage에 파일 저장 확인
- [ ] DB에 서류 정보 저장 확인

### 에러 케이스
- [ ] 파일 미선택 상태로 업로드 시도
- [ ] 서류 유형 미선택 → 에러 메시지
- [ ] 너무 큰 파일 (>10MB) 업로드 시도
- [ ] 지원하지 않는 파일 형식 (예: .exe)
- [ ] 네트워크 에러

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## ✅ 9단계: 점검 일지 테스트 (InspectionLog.tsx)

### 점검 일지 페이지 접근
- [ ] 빠른 메뉴에서 "점검 일지" 클릭
- [ ] `/mobile/inspection-log` 페이지 표시
- [ ] 점검 항목 체크리스트 표시

### 점검 항목 작성
- [ ] 8개 점검 항목 표시 확인
  - [ ] 1. 엔진 상태
  - [ ] 2. 브레이크 작동
  - [ ] 3. 조향장치
  - [ ] 4. 등화장치
  - [ ] 5. 타이어 상태
  - [ ] 6. 유압장치
  - [ ] 7. 안전장치
  - [ ] 8. 외관 손상
- [ ] 각 항목 체크 가능 (합격/불합격)
- [ ] 특이사항 입력란 표시

### 진행률 표시
- [ ] Progress Bar 표시
- [ ] 체크한 항목 수 / 전체 항목 수 표시
- [ ] 체크할 때마다 진행률 업데이트

### 전자 서명
- [ ] 서명 Canvas 표시
- [ ] 서명 그리기 가능
- [ ] "지우기" 버튼으로 서명 초기화
- [ ] 서명 크기 적절 (모바일에서 그리기 쉬움)

### 점검 일지 제출
- [ ] 모든 항목 체크 완료
- [ ] 서명 완료
- [ ] "제출" 버튼 클릭
- [ ] 제출 성공 메시지
- [ ] DB에 점검 일지 저장 확인

### 에러 케이스
- [ ] 항목 미체크 상태로 제출 시도
- [ ] 서명 누락 상태로 제출
- [ ] 네트워크 에러

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 📝 10단계: 작업 일지 테스트 (WorkLog.tsx)

### 작업 일지 페이지 접근
- [ ] 빠른 메뉴에서 "작업 일지" 클릭
- [ ] `/mobile/work-log` 페이지 표시
- [ ] 일별/월별 탭 표시

### 일별 작업 일지
- [ ] "일별" 탭 선택
- [ ] 작업 일자 선택
- [ ] 작업 내용 입력란
- [ ] 작업 시간 입력 (시작/종료)
- [ ] 작업자 서명 Canvas (필수)
- [ ] BP 확인자 서명 Canvas (필수)

### 월별 작업 일지
- [ ] "월별" 탭 선택
- [ ] 작업 월 선택
- [ ] 월별 작업 내용 입력란
- [ ] 작업자 서명만 필요 (BP 서명 없음)

### 이중 서명 시스템 (일별)
- [ ] 작업자 서명 먼저 그리기
- [ ] BP 확인자 서명 그리기
- [ ] 두 서명 모두 표시
- [ ] 각 서명 개별 "지우기" 버튼

### 작업 일지 제출
- [ ] 필수 정보 입력 완료
- [ ] 서명 완료
- [ ] "제출" 버튼 클릭
- [ ] 제출 성공 메시지
- [ ] DB에 작업 일지 저장 확인

### 에러 케이스
- [ ] 작업 내용 미입력
- [ ] 작업자 서명 누락
- [ ] BP 서명 누락 (일별)
- [ ] 네트워크 에러

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 🎨 11단계: 모바일 UI/UX 전반 체크

### 반응형 레이아웃
- [ ] iPhone SE (작은 화면) - 375px
- [ ] iPhone 12 (중간 화면) - 390px
- [ ] iPhone 12 Pro Max (큰 화면) - 428px
- [ ] iPad (태블릿) - 768px
- [ ] 모든 화면 크기에서 레이아웃 깨짐 없음

### 터치 영역
- [ ] 모든 버튼 크기 최소 44x44px
- [ ] 버튼 간 간격 충분 (오터치 방지)
- [ ] 스크롤 영역 명확

### 입력 필드
- [ ] font-size 16px 이상 (iOS 줌 방지)
- [ ] 입력 시 키보드에 가려지지 않음
- [ ] placeholder 명확

### 로딩 상태
- [ ] 모든 API 호출 시 로딩 인디케이터
- [ ] 스피너 또는 스켈레톤 UI
- [ ] 로딩 중 중복 클릭 방지

### 에러 메시지
- [ ] 명확하고 이해하기 쉬운 메시지
- [ ] Toast 또는 Alert 형태
- [ ] 자동으로 사라짐 (3-5초)

### 성공 메시지
- [ ] 작업 성공 시 Toast 메시지
- [ ] 긍정적인 피드백 (✅ 아이콘 등)
- [ ] 자동으로 사라짐

### 색상 및 아이콘
- [ ] 색상 의미 명확 (빨강=긴급, 초록=성공 등)
- [ ] 아이콘 직관적
- [ ] 다크 모드 대응 (옵션)

### 성능
- [ ] 페이지 로딩 속도 3초 이내
- [ ] 버튼 클릭 반응 즉각적
- [ ] 애니메이션 부드러움
- [ ] 메모리 누수 없음 (장시간 사용 시)

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 🔐 12단계: Worker 권한 체크

### 접근 가능한 기능
- [ ] 모바일 메인 페이지
- [ ] 작업 시작/종료
- [ ] 휴식 시작/종료
- [ ] 연장 근무
- [ ] 서류 업로드
- [ ] 점검 일지
- [ ] 작업 일지
- [ ] 긴급 상황 버튼

### 접근 불가능한 기능 (차단 확인)
- [ ] Admin 페이지 접근 시도 → 권한 에러
- [ ] 장비 관리 페이지 접근 시도 → 권한 에러
- [ ] 인력 관리 페이지 접근 시도 → 권한 에러
- [ ] 회사 관리 페이지 접근 시도 → 권한 에러
- [ ] 사용자 관리 페이지 접근 시도 → 권한 에러
- [ ] 작업 확인서 승인 시도 → 권한 에러
- [ ] 반입 요청 승인 시도 → 권한 에러

### 데이터 접근 제한
- [ ] 자신의 작업 세션만 조회 가능
- [ ] 자신의 서류만 조회 가능
- [ ] 타 Worker의 정보 조회 불가
- [ ] 자신이 업로드한 서류만 수정/삭제 가능

**테스트 결과**: 
```
✅ 성공 / ❌ 실패 / ⚠️ 개선 필요
메모:
```

---

## 📊 테스트 종합 결과

### 통과한 테스트
```
✅ 로그인
✅ 메인 페이지
✅ 작업 시작/종료
(체크한 항목 나열)
```

### 실패한 테스트
```
❌ 에러 1: (설명)
❌ 에러 2: (설명)
```

### 개선이 필요한 부분
```
⚠️ UI 개선 1: (설명)
⚠️ UI 개선 2: (설명)
```

---

## 🐛 발견된 버그 목록

### 버그 1: (제목)
- **심각도**: 높음/중간/낮음
- **재현 방법**:
  1. 
  2. 
  3. 
- **예상 원인**:
- **수정 방법**:
- **수정 완료**: ⬜

---

## 🎨 UI/UX 개선 제안

### 개선 1: (제목)
- **현재 상태**:
- **개선 방안**:
- **우선순위**: 높음/중간/낮음
- **적용 완료**: ⬜

---

## 📝 테스트 메모

```
여기에 테스트 중 발견한 기타 사항 기록

예:
- GPS 위치 추적이 5분마다 잘 작동함
- 서명 Canvas의 선 굵기가 적절함
- 로딩 속도가 빠름 (1초 이내)
```

---

**테스트 완료 일시**: 
**테스트 담당자**: 
**전체 테스트 소요 시간**: 
**다음 테스트 계획**: Inspector 기능 테스트




